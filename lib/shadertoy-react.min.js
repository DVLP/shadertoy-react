module.exports=function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=9728,T=9729,P=33071,b=function(e){return 0==(e&e-1)},i=function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},u=function e(t){var E=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"isLoaded",!1),r(this,"url",void 0),r(this,"wrapS",void 0),r(this,"wrapT",void 0),r(this,"minFilter",void 0),r(this,"magFilter",void 0),r(this,"source",void 0),r(this,"flipY",-1),r(this,"width",0),r(this,"height",0),r(this,"_webglTexture",null),r(this,"updateTexture",function(e,t,n){var r=E.gl,i=r.RGBA,o=r.RGBA,a=r.UNSIGNED_BYTE;r.bindTexture(r.TEXTURE_2D,e),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,n),r.texImage2D(r.TEXTURE_2D,0,i,o,a,t)}),r(this,"setupVideo",function(e){var t=document.createElement("video"),n=!1,r=!1;t.autoplay=!0,t.muted=!0,t.loop=!0,t.crossOrigin="anonymous";var i=function(){n&&r&&(E.isLoaded=!0)};return t.addEventListener("playing",function(){n=!0,E.width=t.videoWidth||0,E.height=t.videoHeight||0,i()},!0),t.addEventListener("timeupdate",function(){r=!0,i()},!0),t.src=e,t}),r(this,"makePowerOfTwo",function(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap?(void 0===E.pow2canvas&&(E.pow2canvas=document.createElement("canvas")),E.pow2canvas.width=i(e.width),E.pow2canvas.height=i(e.height),E.pow2canvas.getContext("2d").drawImage(e,0,0,E.pow2canvas.width,E.pow2canvas.height),console.warn("ShadertoyReact: Image is not power of two ".concat(e.width," x ").concat(e.height,". Resized to ").concat(E.pow2canvas.width," x ").concat(E.pow2canvas.height)),E.pow2canvas):e}),r(this,"load",function(i,e){var o=E.gl,r=i.url,t=i.wrapS,n=i.wrapT,a=i.minFilter,s=i.magFilter,u=i.flipY,c=void 0===u?-1:u;if(E.url=r,E.wrapS=t,E.wrapT=n,E.minFilter=a,E.magFilter=s,E.flipY=c,null!==l||null!==d){var l=/(\.jpg|\.jpeg|\.png|\.gif|\.bmp)$/i.exec(r),d=/(\.mp4|\.3gp|\.webm|\.ogv)$/i.exec(r);if(null!==l||null!==d){var f=o.createTexture();o.bindTexture(o.TEXTURE_2D,f);var v=o.RGBA,m=o.RGBA,h=o.UNSIGNED_BYTE,p=new Uint8Array([255,255,255,0]);if(o.texImage2D(o.TEXTURE_2D,0,v,1,1,0,m,h,p),d){var g=E.setupVideo(r);return o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),E._webglTexture=f,E.source=g,E.isVideo=!0,g.play().then(function(){return E})}return new Promise(function(e,t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){return e(n)},n.onerror=function(){return t(new Error("failed loading url: ".concat(r)))},n.src=r}).then(function(e){var t,n,r=b(e.width)&&b(e.height);return((t=i).wrapS!==P||t.wrapT!==P||t.minFilter!==w&&t.minFilter!==T)&&!1===r&&(e=E.makePowerOfTwo(e),r=!0),o.bindTexture(o.TEXTURE_2D,f),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,c),o.texImage2D(o.TEXTURE_2D,0,v,m,h,e),n=i,r&&n.minFilter!==w&&n.minFilter!==T&&o.generateMipmap(o.TEXTURE_2D),E._webglTexture=f,E.source=e,E.isVideo=!1,E.isLoaded=!0,E.width=e.width||0,E.height=e.height||0,E})}console.error("ShadertoyReact: please upload a video or an image with a valid format",r)}else console.error("ShadertoyReact: Missing url, please make sure to pass the url of your texture { url: ... }")}),this.gl=t};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return v}),n.d(t,"NearestFilter",function(){return w}),n.d(t,"LinearFilter",function(){return T}),n.d(t,"NearestMipMapNearestFilter",function(){return 9984}),n.d(t,"LinearMipMapNearestFilter",function(){return 9985}),n.d(t,"NearestMipMapLinearFilter",function(){return 9986}),n.d(t,"LinearMipMapLinearFilter",function(){return 9987}),n.d(t,"ClampToEdgeWrapping",function(){return P}),n.d(t,"MirroredRepeatWrapping",function(){return 33648}),n.d(t,"RepeatWrapping",function(){return 10497});var h="attribute vec3 aVertexPosition;\nvoid main(void) {\n    gl_Position = vec4(aVertexPosition, 1.0);\n}",p="iTimeDelta",g="iResolution",E="iChannelResolution",y="iDeviceOrientation",x=(Math.PI,function(e,t,n){return e*(1-n)+t*n}),v=function(e){function i(e){var t,v,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=this,r=l(i).call(this,e),f(m(m(v=!r||"object"!==s(r)&&"function"!=typeof r?m(n):r)),"componentDidMount",function(){v.initWebGL();var e=v.props,t=e.fs,n=e.vs,r=e.textures,i=e.onDoneLoadingTextures,o=m(m(v)).gl;if(o){if(o.clearColor(0,0,0,1),o.clearDepth(1),o.enable(o.DEPTH_TEST),o.depthFunc(o.LEQUAL),o.viewport(0,0,v.canvas.width,v.canvas.height),v.canvas.height=v.canvas.clientHeight,v.canvas.width=v.canvas.clientWidth,r&&0<r.length){v.uniforms["".concat(E)]={type:"vec3",isNeeded:!1,arraySize:"[".concat(r.length,"]"),value:[]};var a=r.map(function(e,t){return v.uniforms["".concat("iChannel").concat(t)]={type:"sampler2D",isNeeded:!1},v.setupChannelRes(e,t),v.texturesArr[t]=new u(o),v.texturesArr[t].load(e,t).then(function(e){return v.setupChannelRes(e,t)})});Promise.all(a).then(function(){i&&i()})}var s=v.preProcessShaders(t||"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n    fragColor = vec4(col,1.0);\n}",n||h);v.initShaders(s),v.initBuffers(),v.drawScene(),v.addEventListeners(),v.onResize()}}),f(m(m(v)),"shouldComponentUpdate",function(){return!1}),f(m(m(v)),"setupChannelRes",function(e,t){var n=e.width,r=e.height,i=v.props.devicePixelRatio,o=void 0===i?1:i;v.uniforms.iChannelResolution.value[3*t]=n*o,v.uniforms.iChannelResolution.value[3*t+1]=r*o,v.uniforms.iChannelResolution.value[3*t+2]=0}),f(m(m(v)),"initWebGL",function(){var e=v.props.contextAttributes;v.gl=v.canvas.getContext("webgl",e)||v.canvas.getContext("experimental-webgl",e),v.gl.getExtension("OES_standard_derivatives"),v.gl.getExtension("EXT_shader_texture_lod")}),f(m(m(v)),"initBuffers",function(){var e=m(m(v)).gl;v.squareVerticesBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,v.squareVerticesBuffer);e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),e.STATIC_DRAW)}),f(m(m(v)),"addEventListeners",function(){var e={passive:!0};v.uniforms.iMouse.isNeeded&&(v.canvas.addEventListener("mousemove",v.mouseMove,e),v.canvas.addEventListener("mouseout",v.mouseUp,e),v.canvas.addEventListener("mouseup",v.mouseUp,e),v.canvas.addEventListener("mousedown",v.mouseDown,e),v.canvas.addEventListener("touchmove",v.mouseMove,e),v.canvas.addEventListener("touchend",v.mouseUp,e),v.canvas.addEventListener("touchstart",v.mouseDown,e)),window.addEventListener("deviceorientation",v.onDeviceOrientationChange,e),window.addEventListener("resize",v.onResize,e)}),f(m(m(v)),"removeEventListeners",function(){var e={passive:!0};v.uniforms.iMouse.isNeeded&&(v.canvas.removeEventListener("mousemove",v.mouseMove,e),v.canvas.removeEventListener("mouseout",v.mouseUp,e),v.canvas.removeEventListener("mouseup",v.mouseUp,e),v.canvas.removeEventListener("mousedown",v.mouseDown,e),v.canvas.removeEventListener("touchmove",v.mouseMove,e),v.canvas.removeEventListener("touchend",v.mouseUp,e),v.canvas.removeEventListener("touchstart",v.mouseDown,e)),v.uniforms.iDeviceOrientation.isNeeded&&window.removeEventListener("deviceorientation",v.onDeviceOrientationChange,passive),window.removeEventListener("resize",v.onResize,{passive:!0})}),f(m(m(v)),"onDeviceOrientationChange",function(e){var t=e.alpha,n=e.beta,r=e.gamma;v.uniforms.iDeviceOrientation.value=[t,n,r,window.orientation||0]}),f(m(m(v)),"mouseDown",function(e){v.canvasPosition=v.canvas.getBoundingClientRect();var t=e.clientX||e.changedTouches[0].clientX,n=e.clientY||e.changedTouches[0].clientY,r=t-v.canvasPosition.left,i=v.canvasPosition.height-n-v.canvasPosition.top;v.mousedown=!0,v.uniforms.iMouse.value[2]=r,v.uniforms.iMouse.value[3]=i,v.lastMouseArr[0]=r,v.lastMouseArr[1]=i}),f(m(m(v)),"mouseMove",function(e){var t=v.props.lerp,n=void 0===t?1:t,r=e.clientX||e.changedTouches[0].clientX,i=e.clientY||e.changedTouches[0].clientY,o=r-v.canvasPosition.left,a=v.canvasPosition.height-i-v.canvasPosition.top;1!==n?(v.lastMouseArr[0]=o,v.lastMouseArr[1]=a):(v.uniforms.iMouse.value[0]=o,v.uniforms.iMouse.value[1]=a)}),f(m(m(v)),"mouseUp",function(e){v.uniforms.iMouse.value[2]=0,v.uniforms.iMouse.value[3]=0}),f(m(m(v)),"onResize",function(){var e=m(m(v)).gl,t=v.props.devicePixelRatio,n=void 0===t?1:t;v.canvasPosition=v.canvas.getBoundingClientRect();var r=n,i=Math.floor(v.canvasPosition.width*r),o=Math.floor(v.canvasPosition.height*r);if(e.canvas.width=i,e.canvas.height=o,v.uniforms.iResolution.isNeeded){var a=e.getUniformLocation(v.shaderProgram,g);e.uniform2fv(a,[e.canvas.width,e.canvas.height])}}),f(m(m(v)),"drawScene",function(e){var t=m(m(v)).gl,n=v.props.lerp,r=void 0===n?1:n;t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.bindBuffer(t.ARRAY_BUFFER,v.squareVerticesBuffer),t.vertexAttribPointer(v.vertexPositionAttribute,3,t.FLOAT,!1,0,0),v.setUniforms(e),t.drawArrays(t.TRIANGLE_STRIP,0,4),v.uniforms.iMouse.isNeeded&&1!==r&&(v.uniforms.iMouse.value[0]=x(v.uniforms.iMouse.value[0],v.lastMouseArr[0],r),v.uniforms.iMouse.value[1]=x(v.uniforms.iMouse.value[1],v.lastMouseArr[1],r)),v.animFrameId=requestAnimationFrame(v.drawScene)}),f(m(m(v)),"createShader",function(e,t){var n=m(m(v)).gl,r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){console.warn("Error compiling the shader:",t);var i=n.getShaderInfoLog(r);n.deleteShader(r),console.error("Shader compiler log: ".concat(i))}return r}),f(m(m(v)),"initShaders",function(e){var t=e.fs,n=e.vs,r=m(m(v)).gl,i=v.createShader(r.FRAGMENT_SHADER,t),o=v.createShader(r.VERTEX_SHADER,n);v.shaderProgram=r.createProgram(),r.attachShader(v.shaderProgram,o),r.attachShader(v.shaderProgram,i),r.linkProgram(v.shaderProgram),r.getProgramParameter(v.shaderProgram,r.LINK_STATUS)?(r.useProgram(v.shaderProgram),v.vertexPositionAttribute=r.getAttribLocation(v.shaderProgram,"aVertexPosition"),r.enableVertexAttribArray(v.vertexPositionAttribute)):console.error("Unable to initialize the shader program: ".concat(r.getProgramInfoLog(v.shaderProgram)))}),f(m(m(v)),"preProcessShaders",function(i,e){var o="#ifdef GL_ES\n    precision highp float;\n#endif\n".concat(i).replace(/texture\(/g,"texture2D("),a=o.lastIndexOf("#endif");return Object.keys(v.uniforms).forEach(function(e){var t,n,r;i.includes(e)&&(t=o,n="uniform ".concat(v.uniforms[e].type," ").concat(e).concat(v.uniforms[e].arraySize||"","; \n"),o=0<(r=a+"#endif".length+1)?t.substring(0,r)+n+t.substring(r,t.length):n+t,v.uniforms[e].isNeeded=!0)}),{fs:o=o.concat("\nvoid main(void){\n    vec4 color = vec4(0.0,0.0,0.0,1.0);\n    mainImage( color, gl_FragCoord.xy );\n    gl_FragColor = color;\n}"),vs:e}}),f(m(m(v)),"setUniforms",function(e){var s=m(m(v)).gl,t=v.lastTime?(e-v.lastTime)/1e3:0;if(v.lastTime=e,v.uniforms.iMouse.isNeeded){var n=s.getUniformLocation(v.shaderProgram,"iMouse");s.uniform4fv(n,v.uniforms.iMouse.value)}if(v.uniforms.iChannelResolution&&v.uniforms.iChannelResolution.isNeeded){var r=s.getUniformLocation(v.shaderProgram,E);s.uniform3fv(r,v.uniforms.iChannelResolution.value)}if(v.uniforms.iDeviceOrientation.isNeeded){var i=s.getUniformLocation(v.shaderProgram,y);s.uniform4fv(i,v.uniforms.iDeviceOrientation.value)}if(v.uniforms.iTime.isNeeded){var o=s.getUniformLocation(v.shaderProgram,"iTime");s.uniform1f(o,v.timer+=t)}if(v.uniforms.iTimeDelta.isNeeded){s.getUniformLocation(v.shaderProgram,p);s.uniform1f(timeUniform,t)}if(v.uniforms.iDate.isNeeded){var a=new Date,u=a.getMonth()+1,c=a.getDate(),l=a.getFullYear(),d=60*a.getHours()*60+60*a.getMinutes()+a.getSeconds()+.001*a.getMilliseconds(),f=s.getUniformLocation(v.shaderProgram,"iDate");s.uniform4fv(f,[l,u,c,d])}if(v.uniforms.iFrame.isNeeded){s.getUniformLocation(v.shaderProgram,"iFrame");s.uniform1f(timeUniform,v.uniforms.iFrame.value++)}0<v.texturesArr.length&&v.texturesArr.forEach(function(e,t){var n=e.isVideo,r=e._webglTexture,i=e.source,o=e.flipY;if(e.isLoaded&&v.uniforms["iChannel".concat(t)].isNeeded){var a=s.getUniformLocation(v.shaderProgram,"iChannel".concat(t));s.activeTexture(s["TEXTURE".concat(t)]),s.bindTexture(s.TEXTURE_2D,r),s.uniform1i(a,t),n&&e.updateTexture(r,i,o)}})}),f(m(m(v)),"registerCanvas",function(e){v.canvas=e}),f(m(m(v)),"gl",void 0),f(m(m(v)),"squareVerticesBuffer",void 0),f(m(m(v)),"shaderProgram",void 0),f(m(m(v)),"vertexPositionAttribute",void 0),f(m(m(v)),"animFrameId",void 0),f(m(m(v)),"timeoutId",void 0),f(m(m(v)),"canvas",void 0),f(m(m(v)),"mousedown",!1),f(m(m(v)),"canvasPosition",void 0),f(m(m(v)),"timer",0),f(m(m(v)),"lastMouseArr",[0,0]),f(m(m(v)),"texturesArr",[]),f(m(m(v)),"lastTime",0),f(m(m(v)),"render",function(){var e={glCanvas:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}({position:"absolute",height:"100%",width:"100%"},v.props.style)};return a.a.createElement("canvas",{style:e.glCanvas,ref:v.registerCanvas})}),v.uniforms=(f(t={},"iTime",{type:"float",isNeeded:!1,value:0}),f(t,p,{type:"float",isNeeded:!1,value:0}),f(t,"iDate",{type:"vec4",isNeeded:!1,value:[0,0,0,0]}),f(t,"iMouse",{type:"vec4",isNeeded:!1,value:[0,0,0,0]}),f(t,g,{type:"vec2",isNeeded:!1,value:[0,0]}),f(t,"iFrame",{type:"int",isNeeded:!1,value:0}),f(t,y,{type:"vec4",isNeeded:!1,value:[0,0,0,0]}),t),v}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,o["Component"]),t=i,(n=[{key:"componentWillUnmount",value:function(){var t=this.gl;t&&(t.getExtension("WEBGL_lose_context").loseContext(),t.useProgram(null),t.deleteProgram(this.shaderProgram),0<this.texturesArr.length&&this.texturesArr.forEach(function(e){t.deleteTexture(e._webglTexture)}),this.shaderProgram=null),this.removeEventListeners(),cancelAnimationFrame(this.animFrameId)}}])&&c(t.prototype,n),r&&c(t,r),i}();f(v,"defaultProps",{textures:[],contextAttributes:{premultipliedAlpha:!1,alpha:!0},devicePixelRatio:1,vs:h})}]);